require('source-map-support').install();

'use strict';

var _regeneratorRuntime = require('babel-runtime/regenerator')['default'];

var _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

var _helpersEnv = require('../helpers/env');

var _helpersEnv2 = _interopRequireDefault(_helpersEnv);

var _libDriver = require('../../../lib/driver');

var _chai = require('chai');

var _chai2 = _interopRequireDefault(_chai);

var _chaiAsPromised = require('chai-as-promised');

var _chaiAsPromised2 = _interopRequireDefault(_chaiAsPromised);

_chai2['default'].should();
_chai2['default'].use(_chaiAsPromised2['default']);

describe('built-in apps', function () {
  var _this = this;

  process.env.TRAVIS ? this.timeout(240000) : this.timeout(120000);
  var driver = undefined;
  describe('Calendar', function () {
    it('should start', function callee$2$0() {
      var caps, src;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            caps = {
              app: 'Calendar',
              platformName: 'iOS',
              showIOSLog: false,
              noReset: true,
              newCommandTimeout: 120
            };

            caps = _lodash2['default'].merge({}, _helpersEnv2['default'].CAPS, caps);
            driver = new _libDriver.IosDriver();
            context$3$0.next = 5;
            return _regeneratorRuntime.awrap(driver.createSession(caps));

          case 5:
            context$3$0.next = 7;
            return _regeneratorRuntime.awrap(driver.getPageSource());

          case 7:
            src = context$3$0.sent;

            src.should.include('UIAApplication name="Calendar" label="Calendar"');

          case 9:
          case 'end':
            return context$3$0.stop();
        }
      }, null, _this);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QvZTJlL2RyaXZlci9idWlsdC1pbi1hcHBzLWUyZS1zcGVjcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7OztzQkFFYyxRQUFROzs7OzBCQUNOLGdCQUFnQjs7Ozt5QkFDTixxQkFBcUI7O29CQUM5QixNQUFNOzs7OzhCQUNJLGtCQUFrQjs7OztBQUU3QyxrQkFBSyxNQUFNLEVBQUUsQ0FBQztBQUNkLGtCQUFLLEdBQUcsNkJBQWdCLENBQUM7O0FBRXpCLFFBQVEsQ0FBQyxlQUFlLEVBQUUsWUFBWTs7O0FBQ3BDLFNBQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUNqRSxNQUFJLE1BQU0sWUFBQSxDQUFDO0FBQ1gsVUFBUSxDQUFDLFVBQVUsRUFBRSxZQUFNO0FBQ3pCLE1BQUUsQ0FBQyxjQUFjLEVBQUU7VUFDYixJQUFJLEVBV0osR0FBRzs7OztBQVhILGdCQUFJLEdBQUc7QUFDVCxpQkFBRyxFQUFFLFVBQVU7QUFDZiwwQkFBWSxFQUFFLEtBQUs7QUFDbkIsd0JBQVUsRUFBRSxLQUFLO0FBQ2pCLHFCQUFPLEVBQUUsSUFBSTtBQUNiLCtCQUFpQixFQUFFLEdBQUc7YUFDdkI7O0FBQ0QsZ0JBQUksR0FBRyxvQkFBRSxLQUFLLENBQUMsRUFBRSxFQUFFLHdCQUFJLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztBQUNuQyxrQkFBTSxHQUFHLDBCQUFlLENBQUM7OzZDQUNuQixNQUFNLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQzs7Ozs2Q0FFaEIsTUFBTSxDQUFDLGFBQWEsRUFBRTs7O0FBQWxDLGVBQUc7O0FBQ1AsZUFBRyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsaURBQWlELENBQUMsQ0FBQzs7Ozs7OztLQUN2RSxDQUFDLENBQUM7R0FDSixDQUFDLENBQUM7Q0FDSixDQUFDLENBQUMiLCJmaWxlIjoidGVzdC9lMmUvZHJpdmVyL2J1aWx0LWluLWFwcHMtZTJlLXNwZWNzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gdHJhbnNwaWxlOm1vY2hhXG5cbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgZW52IGZyb20gJy4uL2hlbHBlcnMvZW52JztcbmltcG9ydCB7IElvc0RyaXZlciB9IGZyb20gJy4uLy4uLy4uL2xpYi9kcml2ZXInO1xuaW1wb3J0IGNoYWkgZnJvbSAnY2hhaSc7XG5pbXBvcnQgY2hhaUFzUHJvbWlzZWQgZnJvbSAnY2hhaS1hcy1wcm9taXNlZCc7XG5cbmNoYWkuc2hvdWxkKCk7XG5jaGFpLnVzZShjaGFpQXNQcm9taXNlZCk7XG5cbmRlc2NyaWJlKCdidWlsdC1pbiBhcHBzJywgZnVuY3Rpb24gKCkge1xuICBwcm9jZXNzLmVudi5UUkFWSVMgPyB0aGlzLnRpbWVvdXQoMjQwMDAwKSA6IHRoaXMudGltZW91dCgxMjAwMDApO1xuICBsZXQgZHJpdmVyO1xuICBkZXNjcmliZSgnQ2FsZW5kYXInLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBzdGFydCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGxldCBjYXBzID0ge1xuICAgICAgICBhcHA6ICdDYWxlbmRhcicsXG4gICAgICAgIHBsYXRmb3JtTmFtZTogJ2lPUycsXG4gICAgICAgIHNob3dJT1NMb2c6IGZhbHNlLFxuICAgICAgICBub1Jlc2V0OiB0cnVlLFxuICAgICAgICBuZXdDb21tYW5kVGltZW91dDogMTIwXG4gICAgICB9O1xuICAgICAgY2FwcyA9IF8ubWVyZ2Uoe30sIGVudi5DQVBTLCBjYXBzKTtcbiAgICAgIGRyaXZlciA9IG5ldyBJb3NEcml2ZXIoKTtcbiAgICAgIGF3YWl0IGRyaXZlci5jcmVhdGVTZXNzaW9uKGNhcHMpO1xuXG4gICAgICBsZXQgc3JjID0gYXdhaXQgZHJpdmVyLmdldFBhZ2VTb3VyY2UoKTtcbiAgICAgIHNyYy5zaG91bGQuaW5jbHVkZSgnVUlBQXBwbGljYXRpb24gbmFtZT1cIkNhbGVuZGFyXCIgbGFiZWw9XCJDYWxlbmRhclwiJyk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXSwic291cmNlUm9vdCI6Ii4uLy4uLy4uLy4uIn0=
